Numbers (#) refer to GitHub issues in project `littlenavmap`.
For example: #3 is https://github.com/albar965/littlenavmap/issues/3.

===============================================================================

# Version 3.6.6

* Replacing more obscure minute signs like apostrophes now in coordinate parser .
* Excluding Navigraph manifest file now to avoid error messages with package "navigraph-maintenance"
  when reading MSFS scenery data.

===============================================================================

# Version 3.6.5.rc1

## Changes

* Now excluding wrong negative times from flight time calculation in logbook stations.
  This can happen if a simulator reports wrong UTC time or a user changes sim time during flight.
* Added total numbers to logdata query.
* Limited localizer width to 20 degree to avoid excessive values from FSX and MSFS breaking ILS geometry.
* Fixed issue with missing longest runway surface for airports with MSFS.
* Changed ordinate order in GPX file export to fix Google maps import issues.
* Updated translations.

===============================================================================

# Version 3.6.4.beta

## Changes

* Fixed MSFS flight plan export missing region codes.
* Fixed issue with missing longest runway surface for airports with MSFS.

===============================================================================

# Version 3.6.3.beta

## Changes

* Fixed parsing of the incomplete METAR date. This could result in reports having the wrong date.
* Fixed issue where METAR reports might not be updated in index which could result in missing updates.
* Added support for coordinate parsing from Wikipedia which uses special characters to minute and
  second symbols. Coordinates like `40°41′21″N 74°2′40″W` can now be directly pasted into
  _Little Navmap_ dialogs.
* Floating dock windows now also set to stay on top to avoid main window hiding them.
* Now imitating the behavior of MSFS if an scenery update tries to reuse the ident of an airport
  for a new one. Example: Boyd Field (54XS) in MSFS which actually Bar C Ranch Airport (54XS) in
  real life at another location.
* Fixed issue where military airports were not recognized in add-ons.
* Minimized state is now reverted to normal window state when restoring.
* Updated Chinese translation from John Liu.
* Adjusted detection of MSFS Navigraph navdata update to avoid all airports being detected as add-on.
* PLN files now have altitude set for all waypoints.
* Better error reporting for flight plans now including filename.
* Fixed crash when loading LNMPLN flight plans with an empty waypoint list.
* Removed ICAO region code from MSFS export to improve loading in simulator.

===============================================================================

# Version 3.6.2.beta

## Changes

* Fixed issue where program could appear frozen while counting files for loading scenery.
* Fixed detection for military airports in MSFS and extended this with new phrases.
* Now capitalizing all airport names for FSX, P3D and MSFS to fix wrong airbase designators
  like  `Afb`.
* Fixed issue with NOAA weather downloads where a missing internet connection flooded the log and
  caused the program to crash. Now applying a grace period of three minutes after an error which
  blocks new downloads for METAR requests.
* Removed wrong rounding of COM frequencies.
* Now checking for all paths `Community`, `fs-base` and `fs-base-nav` before recognizing a MSFS
  installation as valid.
* `asobo-airports-*` in `Official\Steam` or `Official\OneStore` are now flagged as add-on.
* Added logging for airports that have features more than 10 NM apart.

===============================================================================

Version 3.6.1.beta

FSX, P3D and MSFS:

* Fix for blinking aircraft when updating weather over SimConnect.

MSFS:

* Fixed issue with `NOT NULL constraint failed:tmp_waypoint.ident Unable to fetch...`.
  Navids with empty names are now ignored and printed into the log with BGL file name.
* Changed default MSFS Steam flight plan path to base folder `Microsoft Flight Simulator`.
* Workaround for wrong 0/0 positions sent out by MSFS.
* Localizer heading for MSFS now saved correctly in scenery database.
* Also looking in `OneStore` and `Steam` folder for add-ons now.
* Updating administrative names in airports now if missing in update. This also corrects missing
  names for the Navigraph navdata update.
* Adapted to Navigraph navdata update 12 for MSFS.
  Updating only needed features which are airports, COM and ILS. Everything else is ignored and not
  needed since it can be updated directly for Little Navmap.
* Corrected ILS course for Navigraph update in simulator. Slight variations like for EDDM remain.

Other:

* Airports with empty names now raise an exception which will show an error dialog to the user.
* Htmlbuilder now adds space for tables if value is empty to avoid layout issues.
* Removed unneeded indexes from tables `nav_search` and `taxi_path` to shrink database.
* Updated to world magnetic model 2020. This will be used to calculate X-Plane declination when
  loading the scenery database.
* Fixed issue where declination was not created correctly for locale which do not have a . as
  decimal separator. This is due to functions in WMM code. As a result of the issue declination was
  20 degrees off near VORDME STN in X-Plane, for example. #564
* Removed unused delete_airport table to speed up loading and to keep database small.
* Now capitalizing airport, city, state and country names when loading FSX, P3D or MSFS data.
* Fixed error `Bind name "flightplan" does not exist` when importing logfiles from CSV or X-Plane.
* Fixed issue where NOAA weather download period could not be set correctly.

===============================================================================

Version 3.6.0.beta

Flight plan export (class FlightplanIO):

* Added saving and loading for new native LNMPLN format which supports all flight plan features.
  Added comment field to flight plan and entries. Updated flight plan file type detection. Removed FSX
  related stuff from Flightplan class: Waypoint ID, route type (DIRECT, VOR, etc.). #293
* Fixed issue with waypoint numbering when exporting plans for EFB.
* Small improvements to BBS (Blackbox Simulations Airbus) export. User waypoints now converted to
  decimal-minute coordinate format. Type is now always set to 3. Procedures are not exported.
* Attempt to solve problems with iFly fltplan export.
* Added flight plan export format for Aerosoft CRJ.
* Now omitting invalid positions when saving and loading GPX files. Fixed exception/crash when
  loading GPX with invalid position in class FlightplanIO.
* Changed aircraft performance file saving to new XML format. Old INI format is automatically
  detected and can still be loaded and saved. #523
* Removed flight plan property keys for loading outdated FSX procedures.

Scenery Database:

* Progress for scenery database loading with FSX/P3D, X-Plane and DFD reworked to avoid
  under- or overflow and to have a more balanced progress rate.
* Fixed issues with user home folders containing special characters. This caused various
  issues when detecting flight simulators.
* Now adding artificial waypoints to allow procedure fix resolution in LNM versions <= 2.4.5 in DFD
  databases. Added method to remove all unneeded data for LNM versions > 2.4.5 in DFD database.
* Added more invalid taxiway names like `_` to avoid in X-Plane.
* Added new columns `flightplan`, `aircraft_perf` and `aircraft_trail` to logbook table.
  Added CSV export and import options for new logbook columns. Fixed issue where column order might be
  mixed up on export and import. Added callback option for type conversion in SqlExport. #432

X-Plane:

* Added new X-Plane icing options: AOA, inlet, prop, static and window ice given in percent maximum if multiple sources.
* Added more icing options for X-Plane as well as new boat types frigate and carrier.

Weather:

* Corrected parsing of METAR which failed to read pressure after `//////CB`.
* Now reading full VATSIM weather file instead of doing single and slow requests for each airport.
* Solved issue where class FileSystemWatcher caused weather and GRIB to be updated twice. Stopped
  FileSystemWatcher from sending signal after initializing.
* Attempt to fix download issues with regional format on Windows which let GRIB wind downloads fail
  in some cases. #536

Other, technical, internal or development related:

* Fine tuned flight plan calculation to use navaids close to the departure. This fixes missing airway
  when starting at a SID exit point. #478
* Moved tool button actions in TabWidgetHandler to menu which allows to add separators and to show
  tooltips. Now disabling actions `Show All` and `Close all Except` depending on number of open tabs.
* Added saving and loading of main window layouts to DockWidgetHandler.
* Now making tool tips visible per default in recent menu (class FileHistoryHandler). #451
* Added full screen functionality to dock handler and fixed issue where dock window sizes were not
  restored properly. #121
* Added handling in all download classes for SSL errors like they happen for self signed
  certificates, for example.
* Made TabWidgetHandler more tolerant against old or wrong saved states.
* Added reading support for Garmin FPL format.
* Added airline track system parsing and downloading of NATS, PACOTS and AUSOTS from
  airservicesaustralia and faa.gov
* Updated SimConnect data version to 10 to force incompatibility.
* Added normalize function to Pos::endpoint() to avoid errors.
* Coordinate format longitude/latitude can now be read back by atools::fs::util::fromAnyFormat().
* Added option to DockWidgetHandler to forbid snapping dock windows back into main.
* Added raise and activate windows options to dock widget handler.
* Complete cleanup in weather download classes. Combined weather download functionality into base
  class WeatherDownloadBase. Moved all METAR download, parsing and disambiguation functionality into
  MetarIndex. Now using faster nanoflann based nearest neighbor search for getting adjacent weather
  stations.
* Fixed error handling in DataReaderThread for incompatible data versions. Now disconnecting if
  version or magic number does not match in data packet.
* Added quote and simplify to cleanFilename. Removed flight plan filename building methods and
  replaced these by one pattern based.
* Added detection for translation files in class Translator. Removed override language option in help
  handler. #352
* Added `Import Filename` to userdata CSV export.
* Removed option to force route calculcation algorithm to use closest radio navaids near start and
  destination before waypoints
* Removed all rhumb line calculation methods.
* Added a maximum of 20 warning on FileSystemWatcher to avoid log flooding on missing file.
* Added reading for GPX files in FlightplanIO. More support methods for attached files/BLOBs in
  LogdataManager.
* Added reading of waypoint names from attached logbook GPX.
* Changed userdata export headers for more readability. Added header option for CSV export in
  userdata.
* Added header option to logbook export and added header detection on import. #432
* Fixed issues where `visible_from` in userdata was exported as floating point number which
  resulted in fallback to default value on import.
* Added options to save and load compressed LNMPLN and GPX files in class FlightplanIO. Added Gzip file
  detection and schema update support for adding new columns in DataManagerBase. #432
* Updated file roller to allow usage of file rename patterns.
* Fixed issue where default directory in file dialog was not used with empty settings prefix.
* Fixed issue where a message dialog did not show up again after unchecking `Do not show again`
  and pressing the help button.
* Updated logging for separate debug message and narrow patterns which remove namespaces from class
  and paths from filenames for better readability.
* Added options for POST in class HttpDownloader.
* Moved route calculation classes out of littlenavmap repository to atools to ease testing and reuse. #466
* Added fast spatial index for radius and nearest neighbor searches. Added Point3D and conversion
  methods in Pos for converting earth coordinates to 3D euclidean space. Added nanoflann header for
  spatial search. #466

===============================================================================

Version 3.4.7

Mostly fixes for DFD and other data compilers.

All data compilers and schema changes:
* Updated database minor version to 18 to reflect changes.
* Fixed issue with duplicate waypoints in airways for DFD, X-Plane and FSX/P3D compiler causing
  defects in airway network. Examples: MY/EK and SYA/PA. #516
* Added flag `artificial` for NDB and VOR waypoints which are created to simplify
  airway construction. Useful for debugging or future versions. #516

DFD:
* Updated DFD compiler to create new and separate UIR FIR airspace types besides the old
  deprecated center with `(FIR)` or `(UIR)` in the name. These new types will be used by the next
  Little Navmap version. Current versions 2.4.X are compatible with this change and show
  the old centers. #462
* Fixed issue where runway ends with more than one ILS had all except one detached from runway.
  Example: `EDDF RWY25R ILSZ IFNW`. #532
* Coordinates for fix and recommended fix in procedure tables added. Used for better navaid
  resolution in next Little Navmap version. #205

X-Plane:
* Improved removal of `[X]` prefixes in X-Plane and fixed issue where military airports were not
  detected in all cases.
* Changed airport ident to ICAO code for X-Plane compiler now. XP internal ids are now avoided
  except in duplicates. Added xpident to airport table which keeps the internal ID for
  X-Plane airports. #448
* Added runway smoothness and airport flatten flags from X-Plane to database schema.
* Corrected navaid range calculation for X-Plane. 125 NM is now treated as unpublished.

P3D:
* Fixed issue with P3D v5 not loading tower, unicom and other frequencies for all airports.
  As a result all airports are shown in magenta color.

===============================================================================

Version 3.4.6

P3D v5: #512
* Added P3D v5 for simulator detection.
* Adapted loading of BGL files to P3D v5 structure changes and added new records
  as well as new COM and other types.
* Enabled loading of add-on packages from `%USERPROFILE%\Documents\Prepar3D v5 Add-ons`.

Other:
* Fixed error reporting in wind download and decoding. #480
* Chinese translation by John Liu.

Build:
* Added option to include common `../build_options.pro` file with defines for qmake.
  File is included automatically if it exists.

===============================================================================

Version 3.4.5

Separated creation of routing schema and data from other compiler steps.
* Routing tables are now kept but not populated if disabled.
  This is done to avoid crashes with older LNM version accessing the new database. #466
* Added airway route type to DFD compiler. #466

===============================================================================

Version 3.4.4

* Fixed issue where scenery entries were read despite being disabled in add-ons.cfg for P3D.
* Discovery paths from add-ons.cfg are now read for P3D.

===============================================================================

Version 3.4.3.rc1

* Fixed issues resulting in wrong fuel conversions.
* Tab widget reset now reverts locked state when calling reset.
* Disabled color buttons on macOS since the look wrong.
* Removed logging banners inflating log unnecessarily when loading P3D or FSX scenery library.

===============================================================================

Version 3.4.2.beta

* Fixed issues when reading GRIB winds aloft or WMM (magentic declination) data on Windows
  if user's home path contains special characters like umlauts or accents.
* Added real ICAO code to airport to circumvent issues with X-Plane artificial airport ids.
* Added IATA code to airport table.
* Database minor version up to 15.
* Now ignoring first zero value when interpolating fuel for aircraft performance.
* Updated French and Italian translations. Now complete.

===============================================================================

Version 3.4.1.beta

* Changed aircraft performance handler to detect cruise if aircraft is above cruise altitude.
* Made file name display in dialogs consistent.
* Added methods to clear program settings and restart application.
* Added debug output to log for scenery configuration when loading scenery libraries.
* Fixed macOS tabs which grow too big depending on style.
* Added route description field to logbook.
* Added dock widget handler which allows to deal with stacked docks properly.

===============================================================================

Version 3.4.0.beta

* New coordinate format for parsing: Plain numbers with sign.
* Added display of SSL version into about dialog.
* Fixed several METAR parsing issues. closes #441
* Reduced exaggerated number precision in CSV userpoint export.
* Added TFDi Design 717 flight plan export format. #399
* Fixed issue where table cells where initially not resized properly in itemview zoom handler.
* Now ignoring special ASX weather files written for X-Plane. Fixed excessive logging about missing
  file. #422
* Added tab widget handler to manage movable and closable tabs.
* Fixed display flags for transparent aprons in X-Plane.
* Added geometry callback for whazzup parser to fetch user airspace geometry. Trying to get center
  boundary and falling back to circle shape if missing.
* Removed option to read airspaces from `Documents/Little Navmap` in X-Plane compiler.
  Refactored reading of OpenAir airspaces out of X-Plane compiler for general usage.
  Added option to create schema for user airspaces only. #236
* Aircraft performance handler: Fixed issues in where states were not detected properly.
  Corrected fuel calculation which is now only done if fuel flow is detected to avoid case where
  user changes fuel in the simulator.
* Fixed issue where aircraft descending was not detected. Added method to give aircraft state as
  text. #340
* Added method to check X-Plane file `scenery_packs.ini`.
* Potential fix on macOS folder resolution problems that appear when using case sensitive file
  systems.
* Better error handling and reporting around `magdec.bgl` file and database. Now falling back to WMM
  if file could not be read.
* Added methods to get statistics for logbook entries. #346
* Set codec to UTF when reading X-Plane and weather files.
* Replaced exit on failure with abort to get core dump.
* Added functions and SQL scripts for logbook management. Created base class for userdata and
  logbook data manager. More refactoring around fuel calculation.
* Removed obsolete FSX logbook code.
* Added support for gui_label 3D attribute in X-Plane 11.35 and higher. Updated rating calculation.
  #424
* Fixed error in rating calculation function for X-Plane. #410
* Updated aircraft performance class and collection handler for permanent data collection.
  More get methods for fuel volume and weight in performance. #340
* Updating aircraft performance alternate parameters with cruise parameters as default now when
  collecting. #367
* Added alternate speed, alternate fuel flow, min runway length, runway type and usable fuel to
  aircraft performance. #367
* Adapted wind download to new NOAA url changes. Added more debug output for wind download.
  #283
* Added flight plan properties for custom approaches. #307
* Added flags field for flight plan entry. Added flags and support for alternate airports.
  #230
* Added two second delay for initial weather download of NOAA data. #283
* Added option to application to disable exception dialog.
* Changed NOAA weather download schedule to catch latest METARs. #359
* Refactoring of weather, METAR and download code. Added class to download NOAA METAR files to
  avoid requests for single airports. Bug fixes in station index. #359
* Added geomagnetic model calculation class. MagDecTool. Changed X-Plane and DFD compiler to save
  declination based on current year and month into database. #300
* Wind query allows to interpolate wind for lines through levels now, i.e. lines with positions
  having different altitude. Added point interpolation methods that also considers altitude set in
  position. Changed wind query interface to use altitude from position.
* Fixed crash that appears when using fsAerodata cycle 1905r1 or later. #413
* Added support for X-Plane 8.33 kHz frequency spacing. #409
* GRIB downloader now allows to set base URL. Changed GRIB reader to ignore data sets with invalid
  parameters instead of throwing an exception. Wind query class not checks file for changes. Now
  interpolating between null values and next upper layer if querying wind data for a level lower than
  the lowest. #283
* Fixed issue where temperature and QNH were omitted if METAR contains //////TCU string.
* Fixed issue when saving flight plans from airports with empty names (crashes P3D).
* Fixed issue where QNH was not recognized with invalid temperature.
  Example: `EIWF 041830Z 01007KT 340V040 CAVOK ///// Q0988`
* Fixed Maddog X export to use correct file extension mdr.
* Fixed several issues in HTTP server due to abuse of QSettings (forced write back) for parameter
  passing. Implemented own INI reader class since QSettings cannot be set to read only. #163
* Added option to save list view selection state in widget state.
* Added web server by Stefan Frings (http://stefanfrings.de/qtwebapp/index.html). #163
* Fixed parsing issue with coordinates when using C locale.
* Fixed issue when loading old style aircraft performance files where key ExtraFuelLbsGal is not recognized.
* Fixed missing `=` in cruise altitude for BBS export. #396
* Made loading of X-Plane FMS flight plans more tolerant for wrong `DIRECT` instead of `DRCT` which
  comes from invalid SimBrief plans.

Build and Deployment for Developers: #387
* Updated for Qt 5.12.4. Changed OpenSSL to 1.1.1.
* Linux compilation now uses system OpenSSL again and is based on Ubuntu 18.04.
* Added build for Travis CI. Thanks to Jannik for all his work!
* Complete update of project files to allow configuration with environment variables. Removed all hard coded paths.
* Added documentation about environment variables to configure build and updated build instructions
  in `BUILD.txt` and `atools.pro` files.

===============================================================================

Version 3.2.4

* Fixed issue with wrong waypoint numbering in FlightGear export causing the simulator to crash.
  This happens only when using SID and/or STAR. #361
* Now disabling aircraft performance collection when sim is paused or replaying.
* Now choosing separator for file auto numbering on save depending on filename.
* Changed email address and links. #238
* Updated translations.

===============================================================================

Version 3.2.4.rc1

* Fixed issue with error messages when loading OpenAIR files with missing airspace class. Now omitting only the invalid airspaces.
* Made METAR parser more tolerant for invalid temperature values not separated by /.
* Fixed issue in whazzup parser which could result in invalid dates on systems with AM/PM data locale setting.
* Added option to file dialog to add number to default file name if file already exists.
* Avoiding access to invalid empty paths when detecting simulators.
* Small fix for missing simulator type in online networks.
* Airports with helipads and closed runways are now considered open.
* Now considering helipads for rating calculation for airports.
* Now looking for registry keys in a case insensitive manner.
* Options/Language override in settings now fixed for online help and legend loading.
* Forcing altitude when setting departure position in flight plan.
* Fixed wrong display of exception messages with special characters in Windows.
* Added saving and loading of FlightGear XML flight plans. #361
* Adapted flight plan file type detection to new plan format and improved it.
* Added export for Leonardo Maddog X. #232
* Added export for QualityWings aircraft. #335
* Added export for AivlaSoft EFB. #226
* Added flight plan export for FeelThere and Level-D. #206

===============================================================================

Version 3.2.3

* X-Plane scenery_packs.ini now read case insensitive.

===============================================================================

Version 3.2.2

* Now reading scenery_packs.ini with correct encoding to avoid issues where paths have special characters.
* Updated database minor version to 13.
* Updated German translation.

===============================================================================

Version 3.2.2.rc2

* Fixed rounding error for COM frequencies in DFD compiler.
* Fixed warning message `q_startOperation was called more than once` by skipping if already downloading weather files.
* Change test URL function to allow also files.
* Added methods to fix com frequencies into 25 kHz steps.

===============================================================================

Version 3.2.2.rc1

* Fixed issues where files were not shown and selected in Windows Explorer.
* Small improvements to file system watcher to improve reliability.
* Heading for online aircraft now read correctly as true heading for VATSIM and IVAO.
* Updated French translation by Patrick.
* Fixed issue in Rect::getWidthDegree that caused wrong zooming in LNM on the anti-meridian.

===============================================================================

Version 3.2.1.beta

* Added saving of altitudes for X-Plane FMS formats.
* Fixed issue when creating bounding rectangle from radius covering one of the poles.
  This affected distance search in LNM.
* Fixed issue where short lines were given wrong elevation (first 0) in GLOBE reader.
* Renamed fuel key names in aircraft performance file and added update functions.
* Fixed update time in whazzup parser.
* Added option to limit excessive error logging in whazzup reader.
* Fixed regression when reading whazzup files where heading and other values were missing.
* Added fuel type to performance class now allowing conversion from weight to volume.
  Performance handler now detects fuel type and uses lbs as default now. #255
* Added saving of widgetstate for editable combo boxes.
* Updated French translation from Patrick.

===============================================================================

Version 3.2.0.beta

* Fixed issue for FSX/P3D flight plans missing byte order mark which were not accepted by ASN or ASX.
* HtmlBuilder now allows to set table background and alternating background color. #246
* Fixed issues with assignment of stray VASIs to runways in X-Plane.
* Renamed `ACC` to Area Control Center for online centers. More small refactoring. #267
* Added facilities for automatic performance calculation. #255
* Added aircraft performance data class. #255
* Added accepted extensions for drag and drop. #291
* Changed normalize functions to avoid program freezes. Added normalizeRange functions.
* Added flightplan_estimated_arrival_time to online database schema. Calculating flightplan_estimated_arrival_time now. #303
* Filtering invalid time values `0` from now. All whazzup text parser for #303
* Fixed potential geometry problem reading X-Plane airspaces.
* Added copy functions for procedure properties. #264
* Added function to calculate crab angle from wind, course and TAS. #284
* Work on HTML builder. Added copy operator and constructor and more methods for table data. #284
* Fixed issues with symbolic links in scenery loader. Now using paths as is instead of converting to canonical paths. #29
* Added scenery configuration exclude options for single files. #29
* Added file system watcher which hopefully fixes problems with not recognized updates.
* Improved color change for push buttons in changeWidgetColor. #197
* Added class for drawing rounded polygons. #197
* Now setting airport_id for ndb, vor and waypoint in DFD compiler. #289
* Added restrictive_designation and restrictive_type to boundary table and DFD compiler.
* Added mora_grid table for minimum off route altitude data to schema. DFD compiler now populates mora_grid table. #84
* Added methods to TimedCache to avoid flushing old objects. #6
* Fixed garbled unused data in Metar class. #6
* Metar class now calculates flight rules. #6
* Attempt to fix weather loading issues (disappearing report) for X-Plane metar.dat. Weather data is now kept if file was deleted.
* Now reading scenery_packs.ini for X-Plane to allow disabling of scenery by tools. #151
* Now fetching the first X-Plane installation path from x-plane_install_11.txt as base path.
* Added sunrise and sunset calculation. #281
* Added multiple_code and time_code columns to schema to indicate overlapping airspaces. #279
* Added arinc_descr_code to database that allows to identify IAF, MAF and FAF #196
* GridDelegate now allows to update colors on style change. #142
* Refactoring in cleanup in logging system. Log files can now be rotated if a given size is exceeded. #275
* X-Plane parking positions are now at correct coordinates. #256
* Updated all translations.
* Database minor version updated to 13.

===============================================================================

Version 3.0.3

* Fixed issue where aprons from stock airports remained in add-ons.
* Updated French translation from Patrick.
* Fix missing first update of X-Plane weather.
* Fixed issues with export for flight plans for iFly 737 that could crash the simulator.
* Fixed issue when parsing whazzup with small timeintervals.
* Now assuming that aircraft is on ground for VATSIM and GS < 30 kts (VATSIM has no on_ground indication).
* Now logging all warning dialog messages to logfile.
* Fixed translation issues in navserver resulting in confusing messages in Little Navconnect log window.
* Increased Garmin userdata export ident length.
* Workaround for invalid record length for NDB and waypoints in APX27190.bgl from P3D v4.3 which causes errors
  when reading the scenery library.

===============================================================================

Version 3.0.2

* Updated translations: Brazilian Portuguese, French, Spanish and German. All finished.

* Now exporting all userdata columns. Added last_edit_timestamp and visible_from. Columns are optional for import.
* Fixed region field not adjusted in X-Plane userdata export.
* Now filling temp flag in userdata on import to avoid wrong indication of temporary userpoints.

* Fixed issue where missing centers were interpreted as an empty online database.
* Now using minimum and maximum circle radii for online ATC geometry.
* Added version to palette settings to allow upgrades for color customization files.
* Added functions to create shadow aircraft that exist in both the simulator and online network.

===============================================================================

Version 3.0.1.beta

* Weather texts are now shown translated.
* Added separate online control center radius instead of using visible range in online centers. #45

===============================================================================

Version 3.0.0.beta

* Added complete data management and parsing for IVAO, VATSIM and custom `status.txt` and `whazzup.txt` files.
* Fixed issues with X-Plane user_fix.dat export. Now using correct metadata so that X-Plane can read the file.
* Issues with X-Plane and Garmin userpoint import and export fixed.

* Added script by Gérard to clean out fake runways for AI in FSX/P3D.
* Added logging for airport altitude when reading delete records from FSX/P3D.
  Example: `Add-on airport altitude for VQ10 changed from 7703 ft (BGL Scenery/0902/APX72220.bgl) to 8363 ft`
* Improved BGL file and scenery reading to include hidden and system files.
* Fixed issue where approach name and/or suffix were not read correctly in X-Plane and DFD compiler.
* Fixed error with duplicate VOR/NDB waypoints in DFD compiler.
* Now ignoring artificial circle-to-land approaches in DFD compiler.

* Flight plan export for Blackbox Simulations Airbus. #200
* Added loading method for FSC flight plans.
* Export for iFly flight plan file. #231

* Now removing empty journal files from database when closing.
* Database locking improved.
* Added gzip tools.

Version 2.9.1.develop

* Now filtering out taxiway garbage names in X-Plane compiler.
* Added transition_altitude to airport table for DFD compiler and updated database minor version to 11.
* Added backup functionality to userdata. #3
* Added sim paused and replay flags in sim data.
* Weather report now corrects any future dates back to last valid date.
* Fixed issues with file or directory exclusion for X-Plane scenery loader.
* Fixed problem where CIFP files with wrong case were not recognized correctly.
* Added userdata manager.
* Added CSV reader. Fixed several issues in Sql to CSV export class. Fixed issues in export
  functions of userdata manager. Removed import_timestamp from userdata table. #3
* Fixed coordinate recognition methods to allow degree/minute/second signs or not.
* Added functions to adjust ident and region values from user defined data.
* Userpoint CSV import is now trimmed to avoid fields containing only spaces.
  #3
* More work on user waypoint database. Added coordinate string parsing method that can deal with
  10+ formats. #3
* Fixed wrong header indication `A` for X-Plane flight plans. Fixed app version read in a wrong way
  for FSX/P3D plans.
* Added schema SQL script for user waypoint management. Added user data manager class including
  import and export functions for CSV, X-Plane user_fix.dat, Garmin GTN user waypoints and BGL XML.
  #3
* Fixed old problem where on-ground indication is unreliable for first packets from X-Plane.
* Translation problems fixed for log message.
* Fixed issue when loading fsbuild flight plans which are missing the altitude field.
* Now updating magnetic declination for VOR with calculated value where missing.
* Logging directory and addon excludes now in navdatabase options.
* Added is_3d to airport_medium and airport_large overview tables.
* Now reading FSX/P3D scenery entries pointing to `scenery` directory which is allowed in P3D.
  These were omitted previously. Reading Roaming/.../add-on.cfg and ProgramData/.../add-on.cfg now.
  #211
* Fixed issue with X-Plane airports that have wrong reference datum. Now falling back to center of
  bouding rect or center of a single runway.
* Fixed error on METAR stations improperly reporting CAVOK 9999. Mitigated problem with X-Plane
  METAR.rwx containing duplicate records. #212
* Custom Scenery/Global Airports/Earth nav data/earth_nav.dat is now read to get fixed ILS. Fixed
  reading of ILS for non consecutive entries in dat file. #209
* Corrected wrong runway heading from DFD compilation. #214
* SID and STAR common routes are now merged correctly into procedures for DFD and X-Plane compiler.
  #193
* Airport idents from DFD compilation are now all converted to original three-letter code if
  available. #203
* Added new columns runway_end.altitude, approach_leg.approach_fix_type and
  transition_leg.approach_fix_type. Updated database minor version to 9.
* Merge branch 'release/2.8'
* Now removing all unneeded dummy NDB and VOR waypoints that were created for airway generation.
  #201

Version 2.8.5

* Fixed errors when compiling the X-Plane database with PRDAT records in CIFP files since AIRAC 1801. #202
* Fixes for missing airway segments in DFD compiler.
* Fixed overly eager de-duplication of waypoints. #201
* Updated from Qt 5.9.1 to 5.9.3

Version 2.8.4

* Added Garmin GNS XML flight plan export.
* Added option to save GNS XML flightplans with user defined waypoints.
* Column `arinc_name` in table `approaches` is now filled for SID and STAR to get runway
  information for multiple or all. Needed for future fixes of #179.
* Added new columns `region` and `is_3d` (X-Plane) in airport table. Adapted all compilers to fill it.
* Database minor version bumped up to 8.
* Made flight plan format detection more tolerant for FMS 11 with missing cycle information.
* Fixed issues where X-Plane cannot load STAR in FMS 11 flight plans because runway reference is missing. #173
* Fixed problem where translations for second and third languages were loaded.
* Solved problem where translation files were loaded mixed in some cases.
* Fixed invalid Majestic Dash FPR flight plan file export on Windows and added error check for invalid file size.
* Fixed problem with wrong directory selection if default does not exist in dialog tools.
* Number of ALS is now correctly assigned to airports in X-Plane data compiler.
  This resulted in many airports having an ALS indication where none is.
* Logging library paths now for debugging.
* Updated French translation.

Version 2.8.3

* No changes except version.

2.8.2.beta

* DFD compiler now estimates if holding is given in time or distance for procedure legs.
* DFD compiler now always sets region for fixes where it was missing for procedure legs.
* Solved problem where fix was not set for DME distance and radial terminated procedure legs. Now copying recommended fix.

2.8.1.beta

* Fixed crash when getting simulator base path for unknown simulator type.
* Fixed help handler to use GUI language instead of system locale for links to help and legend.
* Updated French translation from Patrick.

2.8.0.beta

* Finished DFD to Little Navmap database compiler for Navigraph data. #126
* Added script table and option to store create index scripts in that table for preparation by the client. #126
* Added option to drop indexes after database creation to keep the file small.
* Vacuum and analyze option for database creation now defaults to true to get smaller and better organized files. #126
* Extended database metadata with optional compiler_version, valid_through and data source columns.
* Increased database minor version to 6.
* Added flight plan export option for Majestic Dash. #140
* Updated French translation files.
* Fixed error with wrong ILS pitch in X-Plane compiler.
* Disabling maximum airway segment length now for data sources that contain a valid airspace geometry
  (X-Plane and DFD - FSX/P3D contain invalid segments).
* Fixed several problems with bounding box and overlap calculations around the anti meridian.
* Better handling of X-Plane OpenAirspace comments and fixed problem where airspace names contain a comment character.
* FSX/P3D: Added workaround for scenery sort order with add-on.xml files missing layer id.
  Now forcing navaid updates to end of all scenery entries.

Version 2.6.8

* Adapted weather parser for language translation.
* Fixed exception when running into new TACAN approach in P3D version 4.1.
* Now populating channel in VORTACs.
* Fixed flight plan GPX export to save procedure points and altitude now.
* Added new aviation acronyms to capitalization function.
* Fixed error when loading FMS flight plans with invalid altitude values resulted in missing
  flight plan line in elevation profile.

Version 2.6.7

* Added codec recognition for X-Plane airspace files if BOM is available. Otherwise falls back to ANSI (Windows-1252).
* SqlUtil row copy is now more error tolerant and can deal with different row ordering.
* Added boundary query to database metadata.


Version 2.6.6.beta

* Added OpenAir airspace format compilation for X-PLane - also reading
  from $HOME/Documents/Little Navmap/X-Plane Airspaces
* Increased database minor version to 3.
* Added support for X-Plane 11 FMS files.
* Enabled user defined waypoint names for X-Plane FMS format.
* Fixed user waypoint format for FLP so that it can be reloaded.
* Fixed problem loading FS9 flight plans.
* Added optional arinc_name to approach procedure table.
* Added AIRAC cycle to metadata and comment to file table.
* X-Plane 3D airport state now considered when calculating rating.
* Fixed confusing 0 error dialog appearing after loading X-Plane database successfully.
* Now checking CIFP filenames before loading.
* Better error handling and reporting of too old files with version < 850.
* Added handler for assertions/crashes showing dialog to avoid crash to desktop.
* Small fixes to changelog formatting in update dialog.
* Made loading of add-on.xml more robust for files with wrong encoding.

Version 2.6.5

* Added workaround for P3D v4 add-on.xml files with inconsistent encoding (BOM / XML PI mismatch)
* Added error reporting and boundary check when reading X-Plane dat files to avoid crash to desktop.
* Added error collection for X-Plane compiler. Now only stops reading the current file on error.

Version 2.6.4
* Fixed crashes when reading X-Plane CIFP files with unknown approach type.
* Fixed crash with older apt.dat files where runway name for VASI is missing.
* Added support for all altitude restriction types.
* Warnings now print full filename including path.
* Fixed error where altitude restrictions were not recognized when given as flight levels.
* Enabled support for older apt.dat files with version down to 850.

Version 2.6.3
* Fixed error that caused a few hundred waypoints having invalid declination for X-Plane and FSX/P3D.
* Updated database minor version to 1 to indicate above change.

Version 2.6.2 (not public)

* Added compatibility flag for Mac OS X 10.8.
* New flight plan metadata for used simulator database.
* Better error handling in X-Plane compiler. Now checking for required files.
* Corrected mapping for runway markings in X-Plane compilation.

Version 2.6.1.beta

* Changed FS database schema for one-way airways and maximum altitude.
* Adapted airway compilation for direction and maximum altitude.
* Fixed error where number of attached airways was not assigned to waypoints.
* Increased database version - needs a reload.
* Now erasing wrong airway entries at departure and destination in flight plan.
* Fixed error where Documents path was not selected as default if missing simulator.

Version 2.6.0.beta

* Enabled database file exclusions and add-on override options to X-Plane loader.
* Fixed crash when reading X-Plane add-on airports (KLAS).
* Better error reporting when reading X-Plane scenery including file and line number.
* X-Plane file codec is now set to UTF-8 to avoid problems with special characters.
* Added detection of closed airports by name for X-Plane.
* Improved detection of military airports in general and name capitalization for X-Plane.

Version 2.5.4.develop

* Made all dialogs now application modal to avoid hiding behind main window.
* Removed unneede schema generation in case of aborted compilation.
* Fixed compilation not detecting abort/cancel condition for X-Plane.
* Added tolerant distance match when merging TACAN and VOR to VORTAC.
* BGL record length now checked to avoid endless loops and program freezing.
* Added console application to avoid widget dependencies.
* Added aircraft type codes.
* Fixed crash when reading CIFP files.

Version 2.5.3.develop

* Added support for full X-Plane scenery database except airspaces and ARINC files.
* Multiple X-Plane related schema extensions. Speed limit, apron.geometry and runway.shoulder and more. New columns are optional.
* Fixed wrongly placed speed limit columns in procedure tables.

* Added reading of X-Plane metar files.

* Can now load FMS, FLP and FS9 ini-style pln flight plan formats.
* Added automatic format detection while loading flight plans in P3D/FSX/FS9 PLN, X-Plane FMS and FLP.
* Added saving and loading of procedures to FLP format.

* magdec.bgl file is read from simulator scenery or included file.
* Magnetic declination for airports, waypoints and user defined points is now read from magdec.bgl.

* Made database loading more robust for mixed case paths on case sensitive operating systems.
* Databases can now be opened read-only.

* Added fix for unnamed scenery entries in add-on.xml files.
* Fixed reading of add-on.xml in UTF-16 encoding.
* Now sorting of add-on packages by layer.
* Added option to disable/enable reading and writing of add-on packages for P3D v3 and v4.

* Updated to Qt 5.9.1

Version 2.5.2.develop

* Fixed missing encoding in PLN XML files since changing to Qt 5.9.
* Now generating scenery names if missing from add-on.xml files.

Version 2.5.1.develop

* Fixed excessive logging of warnings in invalid airport records and waypoints.
* Now skipping airports where the first record is already invalid.
* Fixed problem with unnamed scenery areas from add-on.xml files.

Version 2.4.4

* v4 runways, aprons and taxiways are now read correctly. This affects all BGL files that are created using the v4 SDK compiler.
* Fixed crash with P3D v4 BGL files.
* Added support for P3D v4 add-on.xml packages. #111
* SimConnect is now loaded dynamically. #110

Version 2.4.3

* No changes.

Version 2.4.2.beta

* Added support for P3D version 4.
* Fixed METAR parsing for reports with missing humidity.

Version 2.4.1.beta

* Removed VOR and TACAN from radionav flight plan calculation tables to fix inclusion if TACAN in VOR/NDB navigation.
* Database minor version set to 1.


Version 2.4.0.beta
* Removed analyze in database scripts since it can degrade performance.

Version 2.3.7.develop
* Fixed crash on database version detection after adding has_sid_star column.

Version 2.3.6.develop

* GLOBE data reader now opens files on demand.
* Added SID/STAR indicator to database metadata.
* Added ship traffic to simconnect interface.
* Added GPX and X-Plane FMS export formats to flight plan.
* Added options to disable transfer of AI vehicles.
* Fix for too many reconnects flooding log on simulator crash.
* Added option to read also inactive scenery entries.

Version 2.3.5.develop

* Removed boundary_line table and pre-calculate boundary geometry now which ist stored as binary data.
* Bumped database version up for changed schema.
* Added support for GLOBE offline elevation data.
* Changed ILS to runway assignment logic to fix ILS data updates.
* Added still unused columns in database for speed limit, airway direction and other extensions for future AIRAC support.
* Added option for two external databases besides the real simulators.

Version 2.3.4.devel

* Several fixes when reading airspace boundaries.
* Added missing indexes to boundary table.
* Now collecting errors for missing scenery directories when loading scenery library database.

Version 2.3.3.devel

* Fixed old problem with empty registry entries when detecting simulator
* Fixed reading of airspace boundaries and removed hack.
* Reduced size of airspace enums in database.

Version 2.3.2.devel

* Added Aerosoft Airbus FLP flight plan export
* Solved problem where airports without delete record lost approaches.
* Fixed METAR parser errors with NOSIG token for weather or sky condition.
* Cleanup in database around transitions and approaches:
** Navaid ids have to be resolved during runtime now and not during compilation time.
** Fix for multiple navaids with the same name and same region in the database.
** Added more redundant information to runway end table to speed up program during runtime.
* Now nearest VOR and NDBs are assigned to waypoint if duplicates exist.

Version 2.3.1.devel

* Enhancement in geo namespace. Added line string class.
* Improvements to gui classes and added
* Better recognition of military airports for not capitalized designators.
* Fixed problem with METAR code CCA.
* Optimizations to route edge writer.
* Fixed old problem with reversed runway end coordinates.
* Added save and restore for QTableWidget, QTreeView and QTreeView.
* Work for approaches, transitions, SID and STARs.
* Added RTE export to flight plan.

Version 2.2.4

* Waypoint id length is now limited to 10 for flightplans.
* Fixed wrong (negated) UTC offset in SimConnect user aircraft.

Version 2.2.3

* Terminal waypoints are not deleted anymore for add-on airports.
* Removing invalid waypoints.
* Jetway indication for gates is correct now.
* Updated database minor version to 1.
* Html entities are replaced with quotes now in flightplan to ensure better third party compatibility.

Version 2.2.2.beta

* Added airport deduplication and optimizations to airport delete processor.
* Increased distance for VOR and NDB deduplication.
* Printing duplicated airports into log before deleting.
* Now appending scenery path and bgl filenames in airport table.
* Added result set printing to sql script.
* Added number of starts to airport for proper delete handling.
* Added table airport_file to collect all sceneries containing an airport.
* Added compiler option for deduplication.
* ILS of add-on airports are not deleted anymore. Optmized copying of add-on airport values.
* Added deletion of duplicate ILS.
* Optimizations for database: removed unused indexes.

Version 2.2.1.beta (not public)

* Fixed problem of wrong elevation adjustments overwriting add-on airport.
* BGL files are now read ordered by name to get more determinstic behavior.
* Only line comments are allowed now in ini files and scenery.cfg to avoid problems with
  filenames containing `#`. Behavior is now equal to flight simulator.

Version 2.2.0.beta

* Navaids with invalid coordinates are now filtered out by BGL reader.
* Queries for deleting duplicates now work properly also considering distance.
* Added more indexes.
* Duplicate airways are now removed before writing them to the database.
* Reduced logging.
* Fixes to approach and ils handling in delete record.
* Fixed old error that caused fragmented airways.
* Fixed loading problems for FSAD data.
* Added support for online help in HelpHandler.
* Added METAR parser.
* Support for AI and weather requests added in SimConnect data.
* Major cleanup and fixes in SimConnect code.
* SimConnect can now be compiled as a dummy.
* Fixed error on too small BGL files. (#51)

Version 2.0.5 - Stable Release

* Fixed scenery loading error for airports without city names.
* Improvement to error handling dialogs to allow instant access to contact and log file.
* Scenery.cfg reading is now more error tolerant, only prints warnings and ignores invalid entries.
* Fixed exclude and include directives for scenery not working for relative paths containing `..`.
* Added static methods and support for fragments to help handler to allow direct linking to anchors.

Version 2.0.4.beta

* Fixed multiple BGL reading errors:
** Now stopping BGL reading early if magic number or header size do not match.
** Skipping all BGL files with wrong magic number and wrong header size now.
* Fixed problem with wrongly assigned surface id 3 (CEMENT) in BGL files.
* Scenery reading now collects errors/exceptions instead of stopping at the first error.
* Added number of collected errors/exceptions to progress report when reading scenery.
* Made scenery.cfg reading more error tolerant to avoid problems with Scenery Config Editor.
* Fixed scenery.cfg path detection to use Windows environment variables. Now more reliable and also working on Windows XP.
* Fixed problem that could cause scenery areas to be omitted when section name is upper or mixed case.
* Fixed error when loading PFPX flight plans PLN files with missing + or - prefix in altitude.

Version 2.0.3.beta
* Removed not null constaints on type, ident and name columns since some add-ons leave fields empty.
* Updated schema to keep runway names in start position even if no assignment to runway was found.
* Schema version updated to major 4 - needs a reload.
* Increased width of ident columns for add-on sceneries.
* Database minor updated to 4.
* Fixed non working scenery exclusion when scenery folder is selected.
* Using native paths in file history handler now.
* Increased default file history size to 20 files.

Version 2.0.2.beta
* All BGL files are now read (invalid magic number of BGL files is now ignored).
* Added support for older add-on sceneries (needs reading of FS9 record structures for airport and parking).
* Airport reading will now stop if the first record is invalid.
* Fixed crash with `database locked` exception during ILS update.
* Corrected facility deletion for multiple airports.
* Airports without name and facilities are now omitted.
* Added more details to logging during scenery loading.

Version 2.0.1.beta
* Made scenery loading more robust for invalid values in BGL files.
* Bumped database version up to 3.3

Version 2.0.0.beta

First beta for 2.0 (Little Navmap/connect 1.0)

Version 1.9.9.develop

* BGL Reading and writing finalized
* Much more functionality added to classes in atools::geo namespace
* Added flight simulator PLN reader and writer in atools::fs::pln namespace
* Added simcommect data classes
* atools::gui namespace: Added WidgetState, WidgetTools, Application with error handler and much more
* Added atools::util namespace: Heap, HtmlBuilder and more.
* Added a copy of unsupported ZIP class from Qt.

Version 1.6.0.develop

* Added BGL reading and writing to a relational database.

Version 1.5.0

* Added FsPaths class - Flight simulator installation directory and files directory are now automatically detected
  for all simulators.
* Added filter that removes incomplete logbook entries on loading.
* Fixed error handling on wrong or not accessible logbook.bin files.
* Current database information is now kept if opening a file fails (added proper transaction handling).
* Locale specific fixes to number format, etc.

Version 1.0.0
* Initial release for Little Logbook 1.0.2
